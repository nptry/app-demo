import type { Request, Response } from 'express';

const permissionData = {
  summary: {
    total: 28,
    management: 15,
    usage: 13,
    disabled: 2,
  },
  permissions: [
    {
      id: 'QM-001',
      name: '设备状态查看权限',
      type: '使用权限',
      modules: ['设备管理', '运维管理'],
      status: '启用',
      createdAt: '2024-05-08 09:30:12',
      updatedBy: 'admin_01',
    },
    {
      id: 'QM-004',
      name: '运维工单下发',
      type: '管理权限',
      modules: ['运维管理'],
      status: '启用',
      createdAt: '2024-05-07 21:12:08',
      updatedBy: 'ops_supervisor',
    },
    {
      id: 'QM-010',
      name: '重点区域密度导出',
      type: '使用权限',
      modules: ['重点区域人群管理'],
      status: '启用',
      createdAt: '2024-05-05 15:05:44',
      updatedBy: 'area_manager',
    },
    {
      id: 'QM-016',
      name: '交通卡口布控',
      type: '管理权限',
      modules: ['交通卡口管理'],
      status: '禁用',
      createdAt: '2024-04-28 10:11:02',
      updatedBy: 'security_admin',
    },
    {
      id: 'QM-021',
      name: '账户创建与禁用',
      type: '管理权限',
      modules: ['用户管理'],
      status: '启用',
      createdAt: '2024-05-08 08:00:00',
      updatedBy: 'admin_01',
    },
  ],
};

const roleData = {
  summary: {
    total: 9,
    enabled: 7,
    disabled: 2,
    departments: 4,
  },
  roles: [
    {
      id: 'RL-001',
      name: '系统管理员',
      department: '平台管理中心',
      permissions: ['用户管理', '运维统计', '安全配置'],
      description: '负责全局配置、账号审批与安全策略',
      status: '启用',
      createdAt: '2024-04-30 12:20:00',
    },
    {
      id: 'RL-003',
      name: '运维调度',
      department: '运维调度中心',
      permissions: ['运维管理', '告警响应', '故障工单'],
      description: '负责现场调度、派单与处理反馈',
      status: '启用',
      createdAt: '2024-05-02 10:11:29',
    },
    {
      id: 'RL-005',
      name: '区域管理员',
      department: '重点区域中心',
      permissions: ['重点区域人群管理', '消息机制'],
      description: '关注重点区域密度与目标人群',
      status: '启用',
      createdAt: '2024-05-03 08:45:10',
    },
    {
      id: 'RL-008',
      name: '交通卡口巡检',
      department: '交通治理中心',
      permissions: ['交通卡口管理'],
      description: '巡检卡口设备、核查告警',
      status: '禁用',
      createdAt: '2024-04-20 09:00:00',
    },
  ],
};

const accountData = {
  summary: {
    total: 62,
    enabled: 48,
    disabled: 8,
    pendingReset: 6,
  },
  accounts: [
    {
      id: 'AC-001',
      username: 'admin_01',
      realName: 'Oluwaseun Ade',
      department: '平台管理中心',
      role: '系统管理员',
      position: '平台管理员',
      phone: '08012238899',
      email: 'admin01@didikon.com',
      status: '启用',
      lastLogin: '2024-05-09 09:55:16',
      passwordUpdatedAt: '2024-05-01 08:12:33',
    },
    {
      id: 'AC-006',
      username: 'ops_supervisor',
      realName: 'Chinedu Lawson',
      department: '运维调度中心',
      role: '运维调度',
      position: '运维主管',
      phone: '08027719822',
      email: 'ops.supervisor@didikon.com',
      status: '启用',
      lastLogin: '2024-05-09 10:22:01',
      passwordUpdatedAt: '2024-04-25 19:26:00',
    },
    {
      id: 'AC-012',
      username: 'area_manager',
      realName: 'Grace Nneka',
      department: '重点区域中心',
      role: '区域管理员',
      position: '区域负责人',
      phone: '08031157644',
      email: 'grace@didikon.com',
      status: '启用',
      lastLogin: '2024-05-09 08:47:09',
      passwordUpdatedAt: '2024-04-30 07:15:10',
    },
    {
      id: 'AC-017',
      username: 'contractor_temp',
      realName: 'Sara Yusuf',
      department: '外协支持组',
      role: '运维调度',
      position: '外协工程师',
      phone: '08037782288',
      email: 'sara.yusuf@contractor.com',
      status: '禁用',
      lastLogin: '2024-05-06 18:22:44',
      passwordUpdatedAt: '2024-04-15 12:05:00',
    },
    {
      id: 'AC-021',
      username: 'traffic_ops',
      realName: 'Idris Ajayi',
      department: '交通治理中心',
      role: '交通卡口巡检',
      position: '现场工程师',
      phone: '08052337611',
      email: 'idris@didikon.com',
      status: '禁用',
      lastLogin: '2024-05-05 14:18:02',
      passwordUpdatedAt: '2024-04-10 16:40:00',
    },
  ],
};

const logData = {
  logs: [
    {
      id: 'LOG-001',
      account: 'admin_01',
      realName: 'Oluwaseun Ade',
      module: '用户管理',
      actionType: '添加',
      content: '创建账号 AC-021 并分配“交通卡口巡检”',
      ip: '10.1.1.12',
      time: '2024-05-09 09:42:11',
      result: '成功',
    },
    {
      id: 'LOG-004',
      account: 'ops_supervisor',
      realName: 'Chinedu Lawson',
      module: '运维管理',
      actionType: '修改',
      content: '更新工单 WO-204 处理状态为“处理中”',
      ip: '10.1.5.33',
      time: '2024-05-09 09:10:04',
      result: '成功',
    },
    {
      id: 'LOG-007',
      account: 'area_manager',
      realName: 'Grace Nneka',
      module: '重点区域人群管理',
      actionType: '导出',
      content: '导出 Balogun 市场密度监测数据',
      ip: '10.1.9.18',
      time: '2024-05-09 08:52:27',
      result: '成功',
    },
    {
      id: 'LOG-010',
      account: 'contractor_temp',
      realName: 'Sara Yusuf',
      module: '用户管理',
      actionType: '登录',
      content: '登录尝试失败（账号禁用）',
      ip: '10.1.22.45',
      time: '2024-05-09 07:10:16',
      result: '失败',
      failReason: '账号被禁用',
    },
  ],
};

const keyPersonData = {
  summary: {
    total: 6,
    inControl: 4,
    expired: 1,
    highRisk: 3,
  },
  persons: [
    {
      id: 'PER-KEY-001',
      name: 'Grace Obi',
      gender: '女',
      birthDate: '1991-03-16',
      idNumber: '110101********1234',
      personType: '重点关注人员',
      reason: '2025-01 涉及团伙欺诈案件，需监测核心商圈活动',
      controlAreas: ['所有重点区域', '特定通道'],
      startTime: '2025-05-01 08:00:00',
      endTime: '2025-11-30 23:59:59',
      faceLibrary: 's3://face/per-key-001.zip',
      contactName: 'Chinedu Lawson',
      contactPhone: '08027719822',
      status: '在控',
      statusUpdatedAt: '2025-05-08 11:32:10',
      operator: 'admin_01',
      remark: '常穿黑色夹克，携带灰色手包',
    },
    {
      id: 'PER-KEY-004',
      name: 'Emeka Dada',
      gender: '男',
      birthDate: '1987-12-01',
      idNumber: '110101********5678',
      personType: '黑名单人员',
      reason: '2024-12 参与暴力事件，限制进入政府办公区',
      controlAreas: ['特定卡口'],
      startTime: '2025-04-18 09:00:00',
      endTime: '2025-10-18 23:59:59',
      faceLibrary: 's3://face/per-key-004.zip',
      contactName: 'Idris Ajayi',
      contactPhone: '08052337611',
      status: '在控',
      statusUpdatedAt: '2025-05-07 15:10:31',
      operator: 'security_admin',
      remark: '身高 175cm，左手臂有纹身',
    },
    {
      id: 'PER-KEY-006',
      name: 'Amina Bello',
      gender: '女',
      birthDate: '1996-07-21',
      idNumber: '110101********9012',
      personType: '限制进入人员',
      reason: '多次翻越政府办公区围栏，列入限制名单',
      controlAreas: ['特定通道'],
      startTime: '2025-02-01 06:00:00',
      endTime: '2025-06-30 23:59:59',
      faceLibrary: 's3://face/per-key-006.zip',
      status: '失控',
      statusUpdatedAt: '2025-05-06 07:05:51',
      operator: 'admin_01',
      remark: '近期无联系',
    },
    {
      id: 'PER-KEY-008',
      name: 'Jacob Tunde',
      gender: '男',
      birthDate: '1984-02-08',
      idNumber: '110101********3456',
      personType: '重点关注人员',
      reason: '2023-11 在交通枢纽多次被疑参与盗窃',
      controlAreas: ['所有重点区域'],
      startTime: '2024-11-12 00:00:00',
      endTime: '2025-11-12 23:59:59',
      faceLibrary: 's3://face/per-key-008.zip',
      contactName: 'Grace Nneka',
      contactPhone: '08031157644',
      status: '已解除',
      statusUpdatedAt: '2025-05-01 10:00:00',
      operator: 'area_manager',
      remark: '解除原因：长时间未出现',
    },
  ],
};

export default {
  'GET /api/user/permissions': (req: Request, res: Response) => {
    res.json({ success: true, data: permissionData });
  },
  'GET /api/user/roles': (req: Request, res: Response) => {
    res.json({ success: true, data: roleData });
  },
  'GET /api/user/accounts': (req: Request, res: Response) => {
    res.json({ success: true, data: accountData });
  },
  'GET /api/user/operation-logs': (req: Request, res: Response) => {
    res.json({ success: true, data: logData });
  },
  'GET /api/user/key-persons': (req: Request, res: Response) => {
    res.json({ success: true, data: keyPersonData });
  },
};
